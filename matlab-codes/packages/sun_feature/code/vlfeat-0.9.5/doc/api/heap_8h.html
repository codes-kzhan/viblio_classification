<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">   
 <meta>
  <!-- Stylesheets -->
  <link href="../web.css" type="text/css" rel="stylesheet"></link>
  <title>VLFeat - Documentation - C API</title>
   
  
  <!-- Scripts-->
  
 </meta>
 
 <!-- Body Start -->
 <body>
  <div id="header">
   <!-- Google CSE Search Box Begins -->
   <form action="http://www.vlfeat.org/search.html" method="get" id="cse-search-box" enctype="application/x-www-form-urlencoded">
    <div>
     <input type="hidden" name="cx" value="003215582122030917471:oq23albfeam"></input>
     <input type="hidden" name="cof" value="FORID:11"></input>
     <input type="hidden" name="ie" value="UTF-8"></input>
     <input type="text" name="q" size="31"></input>
     <input type="submit" name="sa" value="Search"></input>
    </div>
   </form>
   <script src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en" xml:space="preserve" type="text/javascript"></script>
   <!-- Google CSE Search Box Ends -->
   <h1>VLFeat.org</h1>
  </div>
  <div id="headbanner">
   Documentation - C API
  </div>
  <div id="pagebody">
   <div id="sidebar"> <!-- Navigation Start -->
    <ul>
<li><a href="../index.html">Home</a>
</li>
<li><a href="../download.html">Download</a>
</li>
<li><a href="../doc.html">Documentation</a>
<ul>
<li><a href="../mdoc/mdoc.html">Matlab API</a>
</li>
<li><a href="index.html" class='active' >C API</a>
</li>
<li><a href="../man/man.html">Man pages</a>
</li>
</ul></li>
<li><a href="../overview/tut.html">Tutorials</a>
</li>
</ul>

   </div> <!-- sidebar -->
   <div id="content">
    
    <div class="doxygen">
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>heap.h File Reference</h1>Heap.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &quot;<a class="el" href="generic_8h-source.html">generic.h</a>&quot;</code><br>

<p>
<a href="heap_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__VlHeap.html">_VlHeap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Heap object.  <a href="struct__VlHeap.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a54ddd51c1d32bab98e62b5eab4596e2"></a><!-- doxytag: member="heap.h::VlHeap" ref="a54ddd51c1d32bab98e62b5eab4596e2" args="" -->
typedef struct <a class="el" href="struct__VlHeap.html">_VlHeap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2">VlHeap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Heap object. <br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Creating and disposing</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT <a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#bb47c19977bcd9dd7f651fee4095035c">vl_heap_new</a> (void *nodes, int nodeSize, int(*compare)(void const *a, void const *b))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new heap object.  <a href="#bb47c19977bcd9dd7f651fee4095035c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#b5958212f5b6706188d37bf65d5dfa47">vl_heap_delete</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete heap object.  <a href="#b5958212f5b6706188d37bf65d5dfa47"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Manipulating nodes</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#813a09424093b557c4d246f2d3909ec4">vl_heap_get_node_num</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get number of nodes in the heap.  <a href="#813a09424093b557c4d246f2d3909ec4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#a1faaf45ea015f620b4aa84fed2d8f69">vl_heap_get_node_with_index</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self, int unsigned nodeIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get node with given index.  <a href="#a1faaf45ea015f620b4aa84fed2d8f69"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#f01b8c18585c9ad6ffaa652fca8e304a">vl_heap_clear</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the heap.  <a href="#f01b8c18585c9ad6ffaa652fca8e304a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#dda790fe62994953922367eec7fdb720">vl_heap_push</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Push a new node into the heap.  <a href="#dda790fe62994953922367eec7fdb720"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#cd4786a27cd2a6a7b6ba67e6c6ce3287">vl_heap_pop</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pop the smallest node from the heap.  <a href="#cd4786a27cd2a6a7b6ba67e6c6ce3287"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#bc23f1df50225e338e91a13db3ff1b54">vl_heap_update</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self, int unsigned nodeIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update node priority.  <a href="#bc23f1df50225e338e91a13db3ff1b54"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Retrieving and setting paramters</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#eb495a03dbc0be0030fe9663cdde3507">vl_heap_set_swap_func</a> (<a class="el" href="struct__VlHeap.html">VlHeap</a> *self, void(*swap)(void *custom, void *a, void *b), void *customData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set function used to swap nodes.  <a href="#eb495a03dbc0be0030fe9663cdde3507"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Moving in the heap</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><b>For internal use only.</b></p>
<p>
</p>
<br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#22a3bc69fa8ea7ba1209f781de1b67c6">vl_heap_parent</a> (int unsigned nodeIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get index of parent node.  <a href="#22a3bc69fa8ea7ba1209f781de1b67c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#b3ef36922b3b658e08f02fff33189529">vl_heap_left_child</a> (int unsigned nodeIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get index of left child.  <a href="#b3ef36922b3b658e08f02fff33189529"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">VL_INLINE int unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="heap_8h.html#722367068e9d850a77270ffb6f618f5f">vl_heap_right_child</a> (int unsigned nodeIndex)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get index of right child.  <a href="#722367068e9d850a77270ffb6f618f5f"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> implements a heap. The main use of a heap is to organize an array of objects (called nodes) in a priority queue.<p>
<ul>
<li><a class="el" href="heap_8h.html#heap-overview">Overview</a></li><li><a class="el" href="heap_8h.html#heap-tech">Technical details</a></li></ul>
<p>
<a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> behavior (node comparison and swapping functions) are set at run-time. This incurs in a small overhead, which in most cases is tolerable, but in thigt loops might be unacceptable. In such cases, <a class="el" href="heap-t_8h.html">heap-t.h</a> can be used instead.<h2><a class="anchor" name="heap-overview">
Overview</a></h2>
To create a <a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> objet to mange an array of nodes call <a class="el" href="heap_8h.html#bb47c19977bcd9dd7f651fee4095035c" title="Create new heap object.">vl_heap_new</a> specifying<p>
<ul>
<li>the array <code>nodes</code> of nodes,</li><li>the size (in bytes) of each node,</li><li>a function <code>compare</code> specifying an order relation between nodes.</li></ul>
<p>
Notice that the number of nodes into the array is left unspecified. Initially, the heap is empty. Calling <a class="el" href="heap_8h.html#dda790fe62994953922367eec7fdb720" title="Push a new node into the heap.">vl_heap_push</a> includes into the heap the first node of the array <code>nodes[0]</code>. Further calls to <a class="el" href="heap_8h.html#dda790fe62994953922367eec7fdb720" title="Push a new node into the heap.">vl_heap_push</a> include successive nodes. Calling <a class="el" href="heap_8h.html#cd4786a27cd2a6a7b6ba67e6c6ce3287" title="Pop the smallest node from the heap.">vl_heap_pop</a> removes and returns the smallest node (as specified by <code>compare</code>) from the heap. <a class="el" href="heap_8h.html#f01b8c18585c9ad6ffaa652fca8e304a" title="Clear the heap.">vl_heap_clear</a> empties the heap.<p>
<a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> rearranges the nodes in the heap to maintain the proper ordering of the queue (heap property). By default, this is done by copying the memory occupied by each node. For efficiency nodes should be small objects (consider using pointers).<p>
<a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> supports updaing node priorities. After changing the priority of a node (in the heap), call <a class="el" href="heap_8h.html#bc23f1df50225e338e91a13db3ff1b54" title="Update node priority.">vl_heap_update</a> to update the heap. Only one node can be changed at a time.<p>
To use <a class="el" href="heap_8h.html#bc23f1df50225e338e91a13db3ff1b54" title="Update node priority.">vl_heap_update</a> one needs to know the index of the updated node in the heap array. Since nodes are rearranged by the heap operations, this is in general different from the index of the node when it was first added to the array. This problem may be solved by customizing the node swapping function (<a class="el" href="heap_8h.html#eb495a03dbc0be0030fe9663cdde3507" title="Set function used to swap nodes.">vl_heap_set_swap_func</a>) to track the node indexes.<h2><a class="anchor" name="heap-tech">
Technical details</a></h2>
The heap is stored as a binary tree with the property (<em>heap property</em>) that any node is not larger than any of its children. In particular, the root is the smallest node.<p>
<a class="el" href="heap_8h.html#a54ddd51c1d32bab98e62b5eab4596e2" title="Heap object.">VlHeap</a> uses the standard binary tree representation as an array of nodes. <code>node[0]</code> corresponds to the root, <code>node[1]</code> and <code>node[2]</code> to the root left and right children and so on. In this way, the tree structure is fully specified by the total numeber of nodes.<p>
Assuming that the heap has <code>N</code> nodes (from <code>node[0]</code> to <code>node[N-1]</code>), adding the node <code>node[N]</code> to the heap is done by a <em>push down</em> operation: if the node <code>node[N]</code> is smaller than its parent (violating the heap property) it is pushed down by swapping it with the parent, and so on recursively.<p>
Removing the smallest element <code>node[0]</code> with an heap of <code>N</code> nodes is done by swapping <code>node[0]</code> with <code>node[N-1]</code>. If then <code>node[0]</code> is larger than any of its children, it is swapped with the smallest of the two and so on recursively (<em>push up</em> operation).<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Andrea Vedaldi </dd></dl>

<p>Definition in file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f01b8c18585c9ad6ffaa652fca8e304a"></a><!-- doxytag: member="heap.h::vl_heap_clear" ref="f01b8c18585c9ad6ffaa652fca8e304a" args="(VlHeap *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vl_heap_clear           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00087">87</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b5958212f5b6706188d37bf65d5dfa47"></a><!-- doxytag: member="heap.h::vl_heap_delete" ref="b5958212f5b6706188d37bf65d5dfa47" args="(VlHeap *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_heap_delete           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object to delete. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="heap_8c-source.html#l00170">170</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

<p>References <a class="el" href="generic_8h-source.html#l00265">vl_free()</a>.</p>

</div>
</div><p>
<a class="anchor" name="813a09424093b557c4d246f2d3909ec4"></a><!-- doxytag: member="heap.h::vl_heap_get_node_num" ref="813a09424093b557c4d246f2d3909ec4" args="(VlHeap *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int unsigned vl_heap_get_node_num           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of nodes in the heap. </dd></dl>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00076">76</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1faaf45ea015f620b4aa84fed2d8f69"></a><!-- doxytag: member="heap.h::vl_heap_get_node_with_index" ref="a1faaf45ea015f620b4aa84fed2d8f69" args="(VlHeap *self, int unsigned nodeIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * vl_heap_get_node_with_index           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int unsigned&nbsp;</td>
          <td class="paramname"> <em>nodeIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nodeIndex</em>&nbsp;</td><td>index of the heap node. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pointer to the node. </dd></dl>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00063">63</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

<p>Referenced by <a class="el" href="heap_8c-source.html#l00184">vl_heap_down()</a>, <a class="el" href="heap_8c-source.html#l00296">vl_heap_pop()</a>, and <a class="el" href="heap_8c-source.html#l00213">vl_heap_up()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b3ef36922b3b658e08f02fff33189529"></a><!-- doxytag: member="heap.h::vl_heap_left_child" ref="b3ef36922b3b658e08f02fff33189529" args="(int unsigned nodeIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE int unsigned vl_heap_left_child           </td>
          <td>(</td>
          <td class="paramtype">int unsigned&nbsp;</td>
          <td class="paramname"> <em>nodeIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodeIndex</em>&nbsp;</td><td>a node index. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>index of the left child. </dd></dl>
</p>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00115">115</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

<p>Referenced by <a class="el" href="heap_8h-source.html#l00127">vl_heap_right_child()</a>, <a class="el" href="heap_8c-source.html#l00213">vl_heap_up()</a>, and <a class="el" href="heap-t_8h-source.html#l00038">void()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bb47c19977bcd9dd7f651fee4095035c"></a><!-- doxytag: member="heap.h::vl_heap_new" ref="bb47c19977bcd9dd7f651fee4095035c" args="(void *nodes, int nodeSize, int(*compare)(void const *a, void const *b))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT <a class="el" href="struct__VlHeap.html">VlHeap</a>* vl_heap_new           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nodeSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void const *a, void const *b)&nbsp;</td>
          <td class="paramname"> <em>compare</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodes</em>&nbsp;</td><td>array of nodes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nodeSize</em>&nbsp;</td><td>size in bytes of a node. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>compare</em>&nbsp;</td><td>node comparison function.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>new heap object instance. </dd></dl>

<p>Definition at line <a class="el" href="heap_8c-source.html#l00151">151</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

<p>References <a class="el" href="generic_8h-source.html#l00247">vl_malloc()</a>.</p>

</div>
</div><p>
<a class="anchor" name="22a3bc69fa8ea7ba1209f781de1b67c6"></a><!-- doxytag: member="heap.h::vl_heap_parent" ref="22a3bc69fa8ea7ba1209f781de1b67c6" args="(int unsigned nodeIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE int unsigned vl_heap_parent           </td>
          <td>(</td>
          <td class="paramtype">int unsigned&nbsp;</td>
          <td class="paramname"> <em>nodeIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodeIndex</em>&nbsp;</td><td>a node index. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>index of the parent node. </dd></dl>
</p>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00102">102</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

<p>Referenced by <a class="el" href="heap_8c-source.html#l00184">vl_heap_down()</a>, and <a class="el" href="heap-t_8h-source.html#l00080">void()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cd4786a27cd2a6a7b6ba67e6c6ce3287"></a><!-- doxytag: member="heap.h::vl_heap_pop" ref="cd4786a27cd2a6a7b6ba67e6c6ce3287" args="(VlHeap *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void* vl_heap_pop           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pointer do extracted node (or <code>NULL</code> if the heap is empty).</dd></dl>
The function removes the root node from the heap and moves it to the firs position after the heap end. It then returns a pointer to it.<p>
<dl class="user" compact><dt><b>Example</b></dt><dd>To extract smallest value from an heap of floats: <div class="fragment"><pre class="fragment"> <span class="keywordtype">float</span> * node = <a class="code" href="heap_8c.html#cd4786a27cd2a6a7b6ba67e6c6ce3287" title="Pop the smallest node from the heap.">vl_heap_pop</a> (heap) ;
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="heap_8c-source.html#l00296">296</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8h-source.html#l00063">vl_heap_get_node_with_index()</a>, and <a class="el" href="heap_8c-source.html#l00213">vl_heap_up()</a>.</p>

</div>
</div><p>
<a class="anchor" name="dda790fe62994953922367eec7fdb720"></a><!-- doxytag: member="heap.h::vl_heap_push" ref="dda790fe62994953922367eec7fdb720" args="(VlHeap *self)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_heap_push           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance.</td></tr>
  </table>
</dl>
The function adds to the heap the first node after the heap end.<p>
<dl class="user" compact><dt><b>Example</b></dt><dd>To add a node of value <code>1.0</code> to an heap of floats: <div class="fragment"><pre class="fragment"> <span class="keywordtype">float</span> * node = <a class="code" href="heap_8h.html#a1faaf45ea015f620b4aa84fed2d8f69" title="Get node with given index.">vl_heap_get_node_with_index</a> (heap, <a class="code" href="heap_8h.html#813a09424093b557c4d246f2d3909ec4" title="Get number of nodes in the heap.">vl_heap_get_node_num</a> (heap)) ;
 *node = 1.0F ;
 <a class="code" href="heap_8c.html#dda790fe62994953922367eec7fdb720" title="Push a new node into the heap.">vl_heap_push</a> (<span class="keyword">self</span>) ;
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="heap_8c-source.html#l00272">272</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8c-source.html#l00184">vl_heap_down()</a>.</p>

</div>
</div><p>
<a class="anchor" name="722367068e9d850a77270ffb6f618f5f"></a><!-- doxytag: member="heap.h::vl_heap_right_child" ref="722367068e9d850a77270ffb6f618f5f" args="(int unsigned nodeIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_INLINE int unsigned vl_heap_right_child           </td>
          <td>(</td>
          <td class="paramtype">int unsigned&nbsp;</td>
          <td class="paramname"> <em>nodeIndex</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<p><b>For internal use only.</b></p>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>nodeIndex</em>&nbsp;</td><td>a node index. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>index of the right child. </dd></dl>
</p>

<p>Definition at line <a class="el" href="heap_8h-source.html#l00127">127</a> of file <a class="el" href="heap_8h-source.html">heap.h</a>.</p>

<p>References <a class="el" href="heap_8h-source.html#l00115">vl_heap_left_child()</a>.</p>

<p>Referenced by <a class="el" href="heap_8c-source.html#l00213">vl_heap_up()</a>, and <a class="el" href="heap-t_8h-source.html#l00038">void()</a>.</p>

</div>
</div><p>
<a class="anchor" name="eb495a03dbc0be0030fe9663cdde3507"></a><!-- doxytag: member="heap.h::vl_heap_set_swap_func" ref="eb495a03dbc0be0030fe9663cdde3507" args="(VlHeap *self, void(*swap)(void *custom, void *a, void *b), void *customData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_heap_set_swap_func           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *custom, void *a, void *b)&nbsp;</td>
          <td class="paramname"> <em>swap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>customData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>heap object instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>swap</em>&nbsp;</td><td>swap function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>customData</em>&nbsp;</td><td>pointer to data passed to the swap function.</td></tr>
  </table>
</dl>
The swap function <code>swap</code> is called whenever nodes are rearranged in the heap. <code>swap</code> must swap the node pointed by <code>a</code> with the node pointed by <code>b</code>.<p>
You can customize the swap function to track the index of the nodes as they are rearranged in the heap. 
<p>Definition at line <a class="el" href="heap_8c-source.html#l00133">133</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

</div>
</div><p>
<a class="anchor" name="bc23f1df50225e338e91a13db3ff1b54"></a><!-- doxytag: member="heap.h::vl_heap_update" ref="bc23f1df50225e338e91a13db3ff1b54" args="(VlHeap *self, int unsigned nodeIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VL_EXPORT void vl_heap_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__VlHeap.html">VlHeap</a> *&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int unsigned&nbsp;</td>
          <td class="paramname"> <em>nodeIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td>Heap object instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nodeIndex</em>&nbsp;</td><td>node with changed priority.</td></tr>
  </table>
</dl>
The function restores the heap property after a node priority has been changed.<p>
<dl class="user" compact><dt><b>Example</b></dt><dd>Updating the third node of an heap of floats to have value 2.0: <div class="fragment"><pre class="fragment"> <span class="keywordtype">float</span> * node = <a class="code" href="heap_8h.html#a1faaf45ea015f620b4aa84fed2d8f69" title="Get node with given index.">vl_heap_get_node_with_index</a> (heap, 2) ;
 *node = 2.0F ;
 <a class="code" href="heap_8c.html#bc23f1df50225e338e91a13db3ff1b54" title="Update node priority.">vl_heap_update</a> (heap, 2) ;
</pre></div> </dd></dl>

<p>Definition at line <a class="el" href="heap_8c-source.html#l00330">330</a> of file <a class="el" href="heap_8c-source.html">heap.c</a>.</p>

<p>References <a class="el" href="heap_8c-source.html#l00184">vl_heap_down()</a>, and <a class="el" href="heap_8c-source.html#l00213">vl_heap_up()</a>.</p>

</div>
</div><p>
</div>
     <!-- Doc Here -->
    </div>
   
   </div>
   <div class="clear">&nbsp;</div>
  </div> <!-- pagebody -->
  <div id="footer">
   &copy; 2005-09 Andrea Vedaldi and Brian Fulkerson
  </div> <!-- footer -->
  
  <!-- Google Analytics Begins -->
  <script xml:space="preserve" type="text/javascript">
   //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {
   var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
   document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
   }
   //]]>
  </script>
  <script xml:space="preserve" type="text/javascript">
    //<![CDATA[
    var localre = /vlfeat.org/;
    if(document.location.host.search(localre) != -1)
    {

   try {
   var pageTracker = _gat._getTracker("UA-4936091-2");
   pageTracker._trackPageview();
   } catch(err) {}

   }
   //]]>
  </script>
  <!-- Google Analytics Ends -->
 </body>
</html>

 
